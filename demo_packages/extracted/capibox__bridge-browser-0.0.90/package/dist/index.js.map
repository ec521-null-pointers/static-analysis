{"version":3,"sources":["../src/index.ts","../src/lib/api.ts","../src/browser/mail/send-to-recipient.ts","../src/browser/mail/send-to-support.ts","../src/browser/session/append.ts","../src/browser/_utils/browser-get-cookie.ts","../src/browser/session/create.ts","../src/browser/_utils/browser-fetch-utils.ts","../src/browser/crm-auth/path.ts","../src/browser/crm-auth/sign-in.ts","../src/browser/crm-auth/sign-out.ts","../src/browser/crm-auth/veirfy.ts","../src/browser/ga/ga-track-event.ts","../src/browser/realtime/track-event.ts","../src/browser/verify/email/verify-email.ts","../src/browser/verify/phone/verify-phone.ts","../src/browser/session/get.ts","../src/browser/quiz/get.ts","../src/browser/capi/facebook-s2s.ts","../src/browser/payments/create-session.ts","../src/browser/payments/update-session.ts","../src/browser/payments/paypal/paypal-start-order.ts","../src/browser/payments/paypal/paypal-capture-order.ts","../src/browser/trustpilot/get-link.ts","../src/browser/trustpilot/send-invintation.ts","../src/browser/payments/yuno/yuno-create-payment.ts","../src/browser/payments/primer/primerRecurringChargeAndRefund.ts","../src/browser/payments/primer/primerRecurringChargeAndRefundDeferred.ts","../src/browser/session/create-with-currency.ts","../src/browser/session/get-with-currency.ts","../src/browser/currency/rate.ts","../src/browser/currency/currency-suggest.ts","../src/browser/capi/snapchat-s2s.ts","../src/browser/capi/tiktok-s2s.ts","../src/browser/jump-task/jump-task-create.ts","../src/browser/jump-task/jump-task-update.ts","../src/browser/session/mark-purchased.ts","../src/browser/cart/mark-paid.ts","../src/browser/payments/confirm-payment.ts","../src/browser/cart/append-cart.ts","../src/browser/cart/create-cart.ts","../src/browser/cart/get-cart.ts","../src/browser/klaviyo/klaviyo-send-event.ts","../src/browser/klaviyo/klaviyo-send-bulk.ts","../src/browser/realtime/realtime-utm-order-data.ts","../src/browser/order/order-get-by-uuid.ts","../src/browser/order/order-get-by-email.ts","../src/browser/payments/payment-first-payment.ts","../src/browser/payments/payment-last-payments.ts","../src/browser/subscription/cancel-subscription-by-id.ts","../src/browser/subscription/cancel-subscriptions-by-order-id.ts","../src/browser/subscription/subscription-apply-discount.ts","../src/browser/subscription/subscription-pause.ts","../src/browser/subscription/fill-subscription-cancel-request.ts","../src/browser/payments/paypal/paypal-start-rt.ts","../src/browser/payments/paypal/paypal-capture-rt.ts","../src/browser/cart/split-cart.ts","../src/browser/payments/primer/primer-upsell-charge.ts","../src/browser/payments/paypal/paypal-upsell-charge.ts","../src/browser/_utils/random-inclusive.ts","../src/browser/payments/tax/tax-calculate-amount.ts","../src/browser/payments/upsell-charge.ts","../src/browser/payments/upsell-charge-from-cart.ts","../src/browser/subscription/get-subscriptions-by-order-id.ts","../src/browser/payments/tax/get-tax-percent.ts"],"sourcesContent":["import {sendToRecipient} from \"./browser/mail/send-to-recipient\";\nimport {sendToSupport} from \"./browser/mail/send-to-support\";\nimport {appendSession} from \"./browser/session/append\";\nimport {createSession} from \"./browser/session/create\";\nimport {signIn} from \"./browser/crm-auth/sign-in\";\nimport {signOut} from \"./browser/crm-auth/sign-out\";\nimport {verify} from \"./browser/crm-auth/veirfy\";\nimport {trackEvent} from \"./browser/realtime/track-event\";\nimport {verifyEmail} from \"./browser/verify/email/verify-email\";\nimport {verifyPhone} from \"./browser/verify/phone/verify-phone\";\nimport {getSession} from \"./browser/session/get\";\nimport {getQuiz} from \"./browser/quiz/get\";\nimport {facebookS2S} from \"./browser/capi/facebook-s2s\";\nimport {createSession as createSessionPayments} from \"./browser/payments/create-session\";\nimport {updateSession as updateSessionPayments} from \"./browser/payments/update-session\";\nimport {paypalStartOrder} from \"./browser/payments/paypal/paypal-start-order\";\nimport {paypalCaptureOrder} from \"./browser/payments/paypal/paypal-capture-order\";\nimport {trustpilotGetLink} from \"./browser/trustpilot/get-link\";\nimport {trustpilotSendInvitation} from \"./browser/trustpilot/send-invintation\";\nimport {yunoCreatePayment} from \"./browser/payments/yuno/yuno-create-payment\";\nimport {primerRecurringChargeAndRefund} from \"./browser/payments/primer/primerRecurringChargeAndRefund\";\nimport {primerRecurringChargeAndRefundDeferred} from \"./browser/payments/primer/primerRecurringChargeAndRefundDeferred\";\nimport {createSessionWithCurrency} from \"./browser/session/create-with-currency\";\nimport {getSessionWithCurrency} from \"./browser/session/get-with-currency\";\nimport {getCurrencyRate} from \"./browser/currency/rate\";\nimport {currencySuggest} from \"./browser/currency/currency-suggest\";\nimport {snapchatS2s} from \"./browser/capi/snapchat-s2s\";\nimport {tiktokS2S} from \"./browser/capi/tiktok-s2s\";\nimport {jumpTaskCreate} from \"./browser/jump-task/jump-task-create\";\nimport {jumpTaskUpdate} from \"./browser/jump-task/jump-task-update\";\nimport {markPurchasedSession} from \"./browser/session/mark-purchased\";\nimport {confirmPayment} from \"./browser/payments/confirm-payment\";\nimport {appendCart} from \"./browser/cart/append-cart\";\nimport {createCart} from \"./browser/cart/create-cart\";\nimport {getCart} from \"./browser/cart/get-cart\";\nimport {cartMarkPaid} from \"./browser/cart/mark-paid\";\nimport {klaviyoSendEvent} from \"./browser/klaviyo/klaviyo-send-event\";\nimport {klaviyoSendBulk} from \"./browser/klaviyo/klaviyo-send-bulk\";\nimport {realtimeUtmOrderData} from \"./browser/realtime/realtime-utm-order-data\";\nimport {orderGetByUuid} from \"./browser/order/order-get-by-uuid\";\nimport {orderGetByEmail} from \"./browser/order/order-get-by-email\";\nimport {paymentFirstPayment} from \"./browser/payments/payment-first-payment\";\nimport {paymentLastPayments} from \"./browser/payments/payment-last-payments\";\nimport {cancelSubscriptionById} from \"./browser/subscription/cancel-subscription-by-id\";\nimport {cancelSubscriptionsByOrderId} from \"./browser/subscription/cancel-subscriptions-by-order-id\";\nimport {subscriptionApplyDiscount} from \"./browser/subscription/subscription-apply-discount\";\nimport {subscriptionPause} from \"./browser/subscription/subscription-pause\";\nimport {fillSubscriptionCancelRequest} from \"./browser/subscription/fill-subscription-cancel-request\";\nimport {paypalStartRt} from \"./browser/payments/paypal/paypal-start-rt\";\nimport {paypalCaptureRt} from \"./browser/payments/paypal/paypal-capture-rt\";\nimport {splitCart} from \"./browser/cart/split-cart\";\nimport {upsellCharge} from \"./browser/payments/upsell-charge\";\nimport {upsellChargeFromCart} from \"./browser/payments/upsell-charge-from-cart\";\nimport {getSubscriptionsByOrderId} from \"./browser/subscription/get-subscriptions-by-order-id\";\nimport {getTaxPercent} from \"./browser/payments/tax/get-tax-percent\";\nimport {taxCalculateAmount} from \"./browser/payments/tax/tax-calculate-amount\";\n\nexport type * from \"./browser/session/types\";\nexport type * from \"./browser/cart/types\";\nexport type * from \"./browser/payments/types\";\n\nconst browser = {\n    capi: {\n        facebook: facebookS2S,\n        snapchat: snapchatS2s,\n        tiktok: tiktokS2S,\n    },\n    cart: {\n        append: appendCart,\n        create: createCart,\n        get: getCart,\n        markPaid: cartMarkPaid,\n        cart: splitCart,\n    },\n    mail: {\n        sendToRecipient,\n        sendToSupport,\n    },\n    session: {\n        append: appendSession,\n        create: createSession,\n        get: getSession,\n        markPaid: markPurchasedSession,\n    },\n    sessionWithCurrency: {\n        get: getSessionWithCurrency,\n        create: createSessionWithCurrency,\n    },\n    currency: {\n        rate: getCurrencyRate,\n        suggest: currencySuggest,\n        symbol: currencySuggest,\n    },\n    crmAuth: {\n        signIn,\n        signOut,\n        verify,\n    },\n    realtime: {\n        trackEvent,\n        orderUtmData: realtimeUtmOrderData,\n    },\n    verify: {\n        email: verifyEmail,\n        phone: verifyPhone,\n    },\n    quiz: {\n        get: getQuiz,\n    },\n    payments: {\n        createSession: createSessionPayments,\n        updateSession: updateSessionPayments,\n        upsell: {\n            charge: upsellCharge,\n            chargeFromCart: upsellChargeFromCart,\n        },\n        confirmPayment: confirmPayment,\n        paypal: {\n            startOrder: paypalStartOrder,\n            captureOrder: paypalCaptureOrder,\n        },\n        paypalRt: {\n            start: paypalStartRt,\n            capture: paypalCaptureRt,\n        },\n        yuno: {\n            createPayment: yunoCreatePayment,\n        },\n        primer: {\n            oneUsdChargeAndRefund: primerRecurringChargeAndRefund,\n            oneUsdChargeAndRefundDeferred: primerRecurringChargeAndRefundDeferred,\n        },\n        firstPayment: paymentFirstPayment,\n        last5Payments: paymentLastPayments,\n        tax: {\n            getPercent: getTaxPercent,\n            calculate: taxCalculateAmount,\n        }\n    },\n    trustpilot: {\n        getLink: trustpilotGetLink,\n        sendInvitation: trustpilotSendInvitation,\n    },\n    jumpTask: {\n        create: jumpTaskCreate,\n        update: jumpTaskUpdate,\n    },\n    klaviyo: {\n        send: klaviyoSendEvent,\n        sendBulk: klaviyoSendBulk,\n    },\n    order: {\n        getByUuid: orderGetByUuid,\n        getByEmail: orderGetByEmail\n    },\n    subscription: {\n        cancelById: cancelSubscriptionById,\n        cancelByOrderId: cancelSubscriptionsByOrderId,\n        applyDiscount: subscriptionApplyDiscount,\n        pause: subscriptionPause,\n        fillCancellationRequest: fillSubscriptionCancelRequest,\n        get: getSubscriptionsByOrderId,\n    }\n}\n\nexport {\n    browser,\n}\n\nif (typeof window !== 'undefined') {\n    // @ts-ignore\n    window.capibox = browser;\n}\n// v.0.0.90","import createFetchClient from \"openapi-fetch\";\nimport type {paths} from \"./api.def\";\n\nconst endpoint = '/api-client-proxy';\n\nexport const $apiClient = createFetchClient<paths>({\n    baseUrl: endpoint,\n    headers: {\n        'project-key': \"Frontend\"\n    },\n});","import {components} from '../../lib/api.def'\nimport {$apiClient} from \"../../lib/api\";\n\nexport const sendToRecipient = async (data: components['schemas']['SendMailToRecipientDto']): Promise<components['schemas']['SendMailResponseDto']> => {\n    const res = await $apiClient.POST(\n        '/mail/send-to-recipient',\n        {\n            params: {\n                header: {\n                    'project-key': \"Frontend\"\n                }\n            },\n            body: data,\n        }\n    )\n    if (!res.data) {\n        throw new Error(res.error)\n    }\n    return res.data;\n}","import {components} from '../../lib/api.def'\nimport {$apiClient} from \"../../lib/api\";\n\nexport const sendToSupport = async (data: components['schemas']['SendMailToSupportDto']): Promise<components['schemas']['SendMailResponseDto']> => {\n    const res = await $apiClient.POST(\n        '/mail/send-to-support',\n        {\n            params: {\n                header: {\n                    'project-key': \"Frontend\"\n                }\n            },\n            body: data,\n        }\n    )\n    if (!res.data) {\n        throw new Error(res.error)\n    }\n    return res.data;\n}","import {$apiClient} from \"../../lib/api\";\nimport {components} from \"../../lib/api.def\";\n\nexport const appendSession = async (\n    uuid: string,\n    body: components['schemas']['AppendSessionDto'],\n): Promise<components['schemas']['SessionResponseDto']> => {\n    const res = await $apiClient.PUT(\n        '/session/{uuid}',\n        {\n            params: {\n                path: {\n                    uuid\n                },\n                header: {\n                    'project-key': \"Frontend\"\n                }\n            },\n            body\n        }\n    );\n    if (!res.data) {\n        throw new Error('Failed to append session.')\n    }\n    return res.data.data;\n}","export const getCookie = (name: string) => {\n    const value = `; ${document.cookie}`;\n    const parts = value.split(`; ${name}=`);\n    if (parts.length === 2) {\n        const res = parts.pop();\n        if (res) {\n            return res.split(';').shift();\n        }\n    }\n    return '';\n}","import {$apiClient} from \"../../lib/api\";\nimport {components} from \"../../lib/api.def\";\nimport {getCookie} from \"../_utils/browser-get-cookie\";\n\ntype CreateSessionDto = {\n    language: string;\n    email?: string;\n    currency: string;\n} & Omit<components['schemas']['CreateSessionBridgeDto'],\n    'origin' | 'referer' | 'cookies' | 'slug' | 'query' | 'ip' | 'user-agent'\n    | 'analyticsId' | 'analyticsIdv3'\n>;\n\nexport const createSession = async ({language, email, currency, quiz, ...data}: CreateSessionDto): Promise<\n    components['schemas']['SessionResponseDto']\n> => {\n    const urlSearchParams = new URLSearchParams(window.location.search)\n    const params = Object.fromEntries(urlSearchParams.entries())\n    const cookies = window.document.cookie\n    const referer = window.document.referrer\n    const origin = window.location.origin\n    const slug = window.location.pathname\n\n    const res = await $apiClient.POST(\n        '/session',\n        {\n            params: {\n                header: {\n                    'project-key': \"Frontend\"\n                }\n            },\n            body: {\n                ...data,\n                origin,\n                referer,\n                cookies,\n                query: params,\n                slug,\n                analyticsId: getCookie('an_uuid'),\n                analyticsIdv3: getCookie('an_uuid_v3'),\n                extraData: {\n                    ...data.extraData,\n                    language: language,\n                    currency: currency,\n                    email: email,\n                    quiz: quiz ? quiz : undefined\n                }\n            }\n        }\n    );\n    if (!res.data) {\n        throw new Error('Failed to create session.')\n    }\n    return res.data.data;\n}","export const fetchJsonPostOptions = (data: any) => {\n    return {\n        method: 'POST',\n        body: JSON.stringify(data),\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    }\n}","export const CRM_AUTH_SIGN_IN_PATH = '/api/crm-auth/sign-in';\nexport const CRM_AUTH_SIGN_OUT_PATH = '/api/crm-auth/sign-out';\nexport const CRM_AUTH_VERIFY_PATH = '/api/crm-auth/verify';","import {fetchJsonPostOptions} from \"../_utils/browser-fetch-utils\";\nimport {CRM_AUTH_SIGN_IN_PATH} from \"./path\";\n\nexport const signIn = async (data: any): Promise<any> => {\n    const res = await fetch(\n        CRM_AUTH_SIGN_IN_PATH,\n        fetchJsonPostOptions(data)\n    )\n    return await res.json();\n}\n","import {fetchJsonPostOptions} from \"../_utils/browser-fetch-utils\";\nimport {CRM_AUTH_SIGN_OUT_PATH} from \"./path\";\n\nexport const signOut = async (): Promise<{ success: 1 }> => {\n    const res = await fetch(\n        CRM_AUTH_SIGN_OUT_PATH,\n        fetchJsonPostOptions({})\n    )\n    return await res.json();\n}\n","import {fetchJsonPostOptions} from \"../_utils/browser-fetch-utils\";\nimport {CRM_AUTH_VERIFY_PATH} from \"./path\";\n\nexport const verify = async (): Promise<any> => {\n    const res = await fetch(\n        CRM_AUTH_VERIFY_PATH,\n        fetchJsonPostOptions({})\n    )\n    return await res.json();\n}\n","export const gaTrackEvent = (eventName: string, options?: any) => {\n    try {\n        // @ts-ignore\n        window.dataLayer.push({\n            event: eventName,\n            ...options\n        })\n    } catch (e) {\n    }\n}","import {gaTrackEvent} from \"../ga/ga-track-event\";\nimport {$apiClient} from \"../../lib/api\";\nimport { components } from \"../../lib/api.def\";\n\ntype Options = {\n    ga?: any,\n    skipGa?: boolean\n    path?: {\n        pathname?: string,\n        referer?: string,\n        origin?: string,\n        length?: number\n    },\n    attr?: {[key: string]: string | number},\n    eventData?: {[key: string]: string | number},\n    skipEvent?: boolean\n}\n\nexport const trackEvent = async (\n    type: string,\n    uuid?: string,\n    options?: Options\n) => {\n    try {\n        const skipGa = !!(!!options && options.skipGa);\n        if (!skipGa) {\n            const gaOptions = !!options && !!options.ga ? options.ga : undefined;\n            gaTrackEvent(type, gaOptions)\n        }\n\n        const urlSearchParams = new URLSearchParams(window.location.search)\n        const params = Object.fromEntries(urlSearchParams.entries())\n\n        const pathLength = !!options && !!options.path && !!options.path.length ?\n            options.path.length :\n            3\n\n        const pathname = !!options && !!options.path && !!options.path.pathname ?\n            options.path.pathname :\n            window.location.pathname.split('/').slice(1, pathLength).join('/')\n\n        const referer = !!options && !!options.path && !!options.path.referer ?\n            options.path.referer :\n            window.document.referrer\n\n        const origin = !!options && !!options.path && !!options.path.origin ?\n            options.path.origin :\n            window.location.origin\n\n        const eventData: components['schemas']['TrackRealtimeEventDto'] = {\n            type,\n            uuid,\n\n            pathname:pathname,\n            referer: referer,\n            origin: origin,\n            query: params,\n            attr: options?.attr,\n            eventData: options?.eventData\n        }\n\n        await $apiClient.POST('/realtime/events/track-event', {\n            body: eventData\n        })\n    } catch (e) {\n    }\n};","import {$apiClient} from \"../../../lib/api\";\n\nexport const verifyEmail = async (email: string) => {\n    const res = await $apiClient.GET(\n        '/verify/email',\n        {\n            params: {\n                query: {\n                    email,\n                },\n                header: {\n                    'project-key': 'FrontEnd'\n                }\n            }\n        }\n    )\n    return res.data;\n}","import {$apiClient} from \"../../../lib/api\";\n\nexport const verifyPhone = async (phone: string) => {\n    const res = await $apiClient.GET(\n        '/verify/phone',\n        {\n            params: {\n                query: {\n                    phone,\n                },\n                header: {\n                    'project-key': 'FrontEnd'\n                }\n            }\n        }\n    )\n    return res.data;\n}","import {$apiClient} from \"../../lib/api\";\nimport {components} from \"../../lib/api.def\";\nimport {SDKCapiboxSessionResponse} from \"./types\";\n\nexport const getSession = async (\n    uuid: string,\n): Promise<SDKCapiboxSessionResponse> => {\n    const res = await $apiClient.GET(\n        '/session/{uuid}',\n        {\n            params: {\n                path: {\n                    uuid\n                },\n                header: {\n                    'project-key': \"Frontend\"\n                }\n            },\n        }\n    );\n    if (!res.data) {\n        throw new Error('Failed to append session.')\n    }\n    return res.data.data;\n}","import {$apiClient} from \"../../lib/api\";\nimport {components} from \"../../lib/api.def\";\n\nexport const getQuiz = async (\n    uuid: string,\n): Promise<components['schemas']['QuizResponseDto']> => {\n    const res = await $apiClient.GET(\n        '/quiz/{uuid}',\n        {\n            params: {\n                path: {\n                    uuid\n                },\n                header: {\n                    'project-key': \"Frontend\"\n                }\n            },\n        }\n    );\n    if (!res.data) {\n        throw new Error('Failed to append session.')\n    }\n    return res.data.data;\n}","import {$apiClient} from \"../../lib/api\";\nimport {components} from \"../../lib/api.def\";\n\nexport const facebookS2S = async (data: components['schemas']['FbCapiPayloadSessionBridge']) => {\n    await $apiClient.POST('/analytics/capi/facebook/event', {\n        params: {\n            header: {\n                'project-key': 'Frontend'\n            }\n        },\n        body: data\n    });\n    return {success: true};\n}","import {$apiClient} from \"../../lib/api\";\nimport {components} from \"../../lib/api.def\";\n\nexport const createSession = async (\n    data: components[\"schemas\"][\"PaymentCreateSessionBridgeRequestDto\"]\n) => {\n    const res = await $apiClient.POST('/payments/create-session', {\n        params: {\n            header: {\n                'project-key': 'Frontend'\n            }\n        },\n        body: data\n    });\n    if (!res.data) {\n        throw new Error('Failed to create payment session.')\n    }\n    return res.data;\n};","import {$apiClient} from \"../../lib/api\";\nimport {components} from \"../../lib/api.def\";\n\nexport const updateSession = async (\n    data: components[\"schemas\"][\"PaymentUpdateSessionBridgeRequestDto\"]\n) => {\n    const res = await $apiClient.POST('/payments/update-session', {\n        params: {\n            header: {\n                'project-key': 'Frontend'\n            }\n        },\n        body: data\n    });\n    if (!res.data) {\n        throw new Error('Failed to update payment session.')\n    }\n    return res.data;\n};","import {$apiClient} from \"../../../lib/api\";\nimport {components} from \"../../../lib/api.def\";\n\nexport const paypalStartOrder = async (uuid: string, dto: components[\"schemas\"][\"PaypalOrderV1CreateFromSessionDto\"]) => {\n\n    const res = await $apiClient.POST(\n        '/dynamic-public/payments-paypal/v1/paypal/orders/from-session/{uuid}',\n        {\n            params: {\n                header: {\n                    'project-key': 'Frontend'\n                },\n                path: {\n                    uuid,\n                }\n            },\n            body: dto\n        });\n    if (!res.data) {\n        throw new Error('Failed to create payment session.')\n    }\n    return res.data;\n\n};","import {$apiClient} from \"../../../lib/api\";\n\nexport const paypalCaptureOrder = async (uuid: string) => {\n    const res = await $apiClient.POST(\n        '/dynamic-public/payments-paypal/v1/paypal/orders/{id}/capture',\n        {\n            params: {\n                header: {\n                    'project-key': 'Frontend'\n                },\n                path: {\n                    id: uuid,\n                }\n            },\n        });\n    if (!res.data) {\n        throw new Error('Failed to create payment session.')\n    }\n    return res.data;\n};","import {$apiClient} from \"../../lib/api\";\nimport {components} from \"../../lib/api.def\";\n\nexport const trustpilotGetLink = async (data: components['schemas']['CreateTrustpilotInvitationLinkDto']): Promise<components['schemas']['CreateTrustpilotInvitationLinkResponseDto']> => {\n    const res = await $apiClient.POST('/trustpilot/get-link', {\n        params: {\n            header: {\n                'project-key': 'Frontend'\n            }\n        },\n        body: data\n    });\n    if (!res.data) {\n        throw new Error('Failed to create payment session.')\n    }\n    return res.data;\n}","import {components} from \"../../lib/api.def\";\nimport {$apiClient} from \"../../lib/api\";\n\nexport const trustpilotSendInvitation = async (data: components['schemas']['SendTrustpilotInvitationDto']): Promise<components['schemas']['SendTrustpilotInvitationResponseDto']> => {\n    const res = await $apiClient.POST('/trustpilot/send-invitation', {\n        params: {\n            header: {\n                'project-key': 'Frontend'\n            }\n        },\n        body: data\n    });\n    if (!res.data) {\n        throw new Error('Failed to create payment session.')\n    }\n    return res.data;\n}","import {$apiClient} from \"../../../lib/api\";\nimport {components} from \"../../../lib/api.def\";\n\nexport const yunoCreatePayment = async (dto: components['schemas']['YunoCreatePaymentDto']) => {\n\n    const res = await $apiClient.POST(\n        '/payments/yuno/create-payment',\n        {\n            params: {\n                header: {\n                    'project-key': 'Frontend'\n                },\n            },\n            body: dto\n        });\n    if (!res.data) {\n        throw new Error('Failed to create payment session.')\n    }\n    return res.data;\n\n};","import {$apiClient} from \"../../../lib/api\";\nimport {components} from \"../../../lib/api.def\";\n\nexport const primerRecurringChargeAndRefund = async (dto: components[\"schemas\"][\"PrimerCreateRecurringPaymentRequestDto\"]) => {\n\n    const res = await $apiClient.POST(\n        '/payments/primer/payments/recurring-charge-refund',\n        {\n            params: {\n                header: {\n                    'project-key': 'Frontend'\n                }\n            },\n            body: {\n                ...dto,\n                orderId: `${dto.orderId}-re-1`,\n                amount: Math.floor(dto.amount * 100)\n            }\n        });\n    if (!res.data) {\n        throw new Error('Failed to create payment session.')\n    }\n    return res.data;\n}","import {$apiClient} from \"../../../lib/api\";\nimport {components} from \"../../../lib/api.def\";\n\nexport const primerRecurringChargeAndRefundDeferred = async (dto: components[\"schemas\"][\"PrimerCreateReferencePaymentRequestWithDelayDto\"]) => {\n\n    const res = await $apiClient.POST(\n        '/payments/primer/payments/recurring-charge-refund-deferred',\n        {\n            params: {\n                header: {\n                    'project-key': 'Frontend'\n                }\n            },\n            body: {\n                ...dto,\n                orderId: `${dto.orderId}-re-1`,\n                amount: Math.floor(dto.amount * 100),\n            }\n        });\n    if (!res.data) {\n        throw new Error('Failed to create payment session.')\n    }\n    return res.data;\n}","import {$apiClient} from \"../../lib/api\";\nimport {components} from \"../../lib/api.def\";\nimport {getCookie} from \"../_utils/browser-get-cookie\";\n\ntype CreateSessionDto = {\n    language: string;\n    email?: string;\n    currency: string;\n} & Omit<components['schemas']['CreateSessionBridgeDto'],\n    'origin' | 'referer' | 'cookies' | 'slug' | 'query' | 'ip' | 'user-agent'\n    | 'analyticsId' | 'analyticsIdv3'\n>;\n\nexport const createSessionWithCurrency = async ({language, email, currency, quiz, ...data}: CreateSessionDto): Promise<\n    components['schemas']['SessionResponseWithCurrencyFullDto']\n> => {\n    const urlSearchParams = new URLSearchParams(window.location.search)\n    const params = Object.fromEntries(urlSearchParams.entries())\n    const cookies = window.document.cookie\n    const referer = window.document.referrer\n    const origin = window.location.origin\n    const slug = window.location.pathname\n\n    const res = await $apiClient.POST(\n        '/session/with-currency',\n        {\n            params: {\n                header: {\n                    'project-key': \"Frontend\"\n                }\n            },\n            body: {\n                ...data,\n                origin,\n                referer,\n                cookies,\n                query: params,\n                slug,\n                analyticsId: getCookie('an_uuid'),\n                analyticsIdv3: getCookie('an_uuid_v3'),\n                extraData: {\n                    ...data.extraData,\n                    language: language,\n                    currency: currency,\n                    email: email,\n                    quiz: quiz ? quiz : undefined\n                }\n            }\n        }\n    );\n    if (!res.data) {\n        throw new Error('Failed to create session.')\n    }\n    return res.data;\n}","import {$apiClient} from \"../../lib/api\";\nimport {components} from \"../../lib/api.def\";\n\nexport const getSessionWithCurrency = async (\n    uuid: string,\n): Promise<components['schemas']['SessionResponseWithCurrencyFullDto']> => {\n    const res = await $apiClient.GET(\n        '/session/with-currency/{uuid}',\n        {\n            params: {\n                path: {\n                    uuid\n                },\n                header: {\n                    'project-key': \"Frontend\"\n                }\n            },\n        }\n    );\n    if (!res.data) {\n        throw new Error('Failed to append session.')\n    }\n    return res.data;\n}","import {$apiClient} from \"../../lib/api\";\nimport {components} from \"../../lib/api.def\";\n\nexport const getCurrencyRate = async (dto: components['schemas']['GetCurrencyDto']): Promise<components['schemas']['CurrencyRateResponseDto'][]> => {\n    const res = await $apiClient.POST(\n        '/currency/rate',\n        {\n            body: dto,\n            params: {\n                header: {\n                    'project-key': \"Frontend\"\n                }\n            },\n        }\n    );\n    if (!res.data) {\n        throw new Error('Failed to append session.')\n    }\n    return res.data;\n}","import {$apiClient} from \"../../lib/api\";\n\nexport const currencySuggest = async (country: string) => {\n    const res = await $apiClient.GET(\n        '/currency/suggest/{country}',\n        {\n            params: {\n                path: {\n                    country\n                },\n                header: {\n                    'project-key': \"Frontend\"\n                }\n            },\n        }\n    );\n    if (!res.data) {\n        throw new Error('Failed to append session.')\n    }\n    return res.data;\n}","import {$apiClient} from \"../../lib/api\";\nimport {components} from \"../../lib/api.def\";\n\nexport const snapchatS2s = async (data: components['schemas']['SnapchatCapiBridgeDto']) => {\n    await $apiClient.POST('/analytics/capi/snapchat/event', {\n        params: {\n            header: {\n                'project-key': 'Frontend'\n            }\n        },\n        body: data\n    });\n    return {success: true};\n}","import {$apiClient} from \"../../lib/api\";\nimport {components} from \"../../lib/api.def\";\n\nexport const tiktokS2S = async (data: components['schemas']['TiktokCapiPayloadSessionBridge']) => {\n    await $apiClient.POST('/analytics/capi/tiktok/event', {\n        params: {\n            header: {\n                'project-key': 'Frontend'\n            }\n        },\n        body: data\n    });\n    return {success: true};\n}","import {$apiClient} from \"../../lib/api\";\nimport {components} from \"../../lib/api.def\";\n\nexport const jumpTaskCreate = async (dto: components[\"schemas\"][\"CreateSessionRequestDto\"]) => {\n\n    const res = await $apiClient.POST(\n        '/dynamic-public/jump-task/session/create',\n        {\n            params: {\n                header: {\n                    'project-key': \"Frontend\"\n                }\n            },\n            body: dto\n        }\n    );\n    if (!res.data) {\n        throw new Error('Error creating session')\n    }\n    return res.data;\n};","import {$apiClient} from \"../../lib/api\";\nimport {components} from \"../../lib/api.def\";\n\nexport const jumpTaskUpdate = async (uuid: string, dto: components[\"schemas\"][\"PatchSessionRequestDto\"]) => {\n\n    const res = await $apiClient.PATCH(\n        '/dynamic-public/jump-task/session/{uuid}',\n        {\n            params: {\n                header: {\n                    'project-key': \"Frontend\"\n                },\n                path: {\n                    uuid\n                }\n            },\n            body: dto\n        }\n    );\n    if (!res.data) {\n        throw new Error('Error creating session')\n    }\n    return res.data;\n};","import {$apiClient} from \"../../lib/api\";\n\nexport const markPurchasedSession = async (\n    uuid: string,\n): Promise<{ success: boolean }> => {\n    const res = await $apiClient.GET(\n        '/session/{uuid}/purchased',\n        {\n            params: {\n                path: {\n                    uuid\n                },\n                header: {\n                    'project-key': \"Frontend\"\n                }\n            },\n        }\n    );\n    if (!res.data) {\n        throw new Error('Failed to append session.')\n    }\n    return {success: true};\n}","import {$apiClient} from \"../../lib/api\";\nimport {components} from \"../../lib/api.def\";\n\nexport const cartMarkPaid = async (\n    uuid: string,\n    body: components['schemas']['MarkPurchasedCartDto'],\n): Promise<components['schemas']['CustomerPaidCartResponseDto']> => {\n    const res = await $apiClient.POST(\n        '/cart/{uuid}/paid',\n        {\n            params: {\n                path: {\n                    uuid,\n                },\n                header: {\n                    'project-key': \"Frontend\"\n                }\n            },\n            body\n        }\n    );\n    if (!res.data) {\n        throw new Error('Failed to append session.')\n    }\n    return res.data;\n}","import {cartMarkPaid} from \"../cart/mark-paid\";\nimport {markPurchasedSession} from \"../session/mark-purchased\";\nimport {components} from \"../../lib/api.def\";\n\ntype Props = {\n    cart: components['schemas']['MarkPurchasedCartDto']\n}\n\nexport const confirmPayment = async (uuid: string, {\n    cart\n}: Props) => {\n\n    const cartData = await cartMarkPaid(uuid, cart)\n\n    await markPurchasedSession(uuid)\n\n    return cartData;\n};","import {$apiClient} from \"../../lib/api\";\nimport {components} from \"../../lib/api.def\";\nimport {SDKCapiboxCartResponse} from \"./types\";\n\nexport const appendCart = async (\n    uuid: string,\n    body: components['schemas']['AppendCartItemDto'],\n): Promise<SDKCapiboxCartResponse> => {\n    const res = await $apiClient.PUT(\n        '/cart/{uuid}',\n        {\n            params: {\n                path: {\n                    uuid\n                },\n                header: {\n                    'project-key': \"Frontend\"\n                }\n            },\n            body\n        }\n    );\n    if (!res.data) {\n        throw new Error('Failed to append session.')\n    }\n    return res.data.data;\n}","import {$apiClient} from \"../../lib/api\";\nimport {components} from \"../../lib/api.def\";\nimport {SDKCapiboxCartResponse} from \"./types\";\n\nexport const createCart = async (\n    body: components['schemas']['CreateCartDto'],\n): Promise<SDKCapiboxCartResponse> => {\n    const res = await $apiClient.POST(\n        '/cart',\n        {\n            params: {\n                header: {\n                    'project-key': \"Frontend\"\n                }\n            },\n            body\n        }\n    );\n    if (!res.data) {\n        throw new Error('Failed to append session.')\n    }\n    return res.data.data;\n}","import {$apiClient} from \"../../lib/api\";\nimport {SDKCapiboxCartResponse, SDKCapiboxCustomerCartResponse} from \"./types\";\n\nexport const getCart = async (\n    uuid: string,\n): Promise<SDKCapiboxCustomerCartResponse> => {\n    const res = await $apiClient.GET(\n        '/cart/{uuid}',\n        {\n            params: {\n                path: {\n                    uuid\n                },\n                header: {\n                    'project-key': \"Frontend\"\n                }\n            },\n        }\n    );\n    if (!res.data) {\n        throw new Error('Failed to append session.')\n    }\n    return res.data;\n}","import {$apiClient} from \"../../lib/api\";\nimport {components} from \"../../lib/api.def\";\n\nexport const klaviyoSendEvent = async (dto: components[\"schemas\"][\"CreateEventDto\"]) => {\n    const res = await $apiClient.POST(\n        '/dynamic-public-direct/klaviyo/events',\n        {\n            params: {\n                header: {\n                    'project-key': 'Frontend'\n                },\n\n            },\n            body: dto\n        });\n    if (!res.data) {\n        throw new Error('Failed to create payment session.')\n    }\n    return res.data;\n}","import {$apiClient} from \"../../lib/api\";\nimport {components} from \"../../lib/api.def\";\n\nexport const klaviyoSendBulk = async (dto: components[\"schemas\"][\"CreateBulkEventDto\"]) => {\n    const res = await $apiClient.POST(\n        '/dynamic-public-direct/klaviyo/events/bulk',\n        {\n            params: {\n                header: {\n                    'project-key': 'Frontend'\n                },\n\n            },\n            body: dto\n        });\n    if (!res.data) {\n        throw new Error('Failed to create payment session.')\n    }\n    return res.data;\n}","import {$apiClient} from \"../../lib/api\";\n\nexport const realtimeUtmOrderData = async (uuid: string) => {\n    const res = await $apiClient.GET(\n        '/realtime/events/utm-data/{uuid}',\n        {\n            params: {\n                path: {\n                    uuid\n                },\n                header: {\n                    'project-key': \"Frontend\"\n                }\n            }\n        }\n    );\n    if (!res.data) {\n        throw new Error('Failed to get realtime utm data.')\n    }\n    return res.data;\n}","import {$apiClient} from \"../../lib/api\";\nimport {components} from \"../../lib/api.def\";\n\nexport const orderGetByUuid = async (uuid: string) => {\n    const res = await $apiClient.GET(\n        '/dynamic-public/orders-management/report-item/order/{orderId}',\n        {\n            params: {\n                header: {\n                    'project-key': 'Frontend'\n                },\n                path: {\n                    orderId: uuid\n                }\n            },\n        });\n    if (!res.data) {\n        throw new Error('Failed to get order by uuid.')\n    }\n    return res.data;\n}","import {$apiClient} from \"../../lib/api\";\nimport {components} from \"../../lib/api.def\";\n\nexport const orderGetByEmail = async (email: string) => {\n    const res = await $apiClient.GET(\n        '/dynamic-public/orders-management/report-item/email/{email}',\n        {\n            params: {\n                header: {\n                    'project-key': 'Frontend'\n                },\n                path: {\n                    email\n                }\n            },\n        });\n    if (!res.data) {\n        throw new Error('Failed to get order by email.')\n    }\n    return res.data;\n}","import {$apiClient} from \"../../lib/api\";\n\nexport const paymentFirstPayment = async (uuid: string) => {\n    const res = await $apiClient.GET(\n        '/dynamic-public/payments-management/payments/first-payment',\n        {\n            params: {\n                header: {\n                    'project-key': 'Frontend'\n                },\n                query: {\n                    referenceId: uuid\n                }\n            },\n        });\n    if (!res.data) {\n        throw new Error('Failed to get first payment.')\n    }\n    return res.data;\n}","import {$apiClient} from \"../../lib/api\";\nimport {components} from \"../../lib/api.def\";\n\nexport const paymentLastPayments = async (uuid: string) => {\n    const res = await $apiClient.GET(\n        '/dynamic-public/payments-management/payments/last-5-payments',\n        {\n            params: {\n                header: {\n                    'project-key': 'Frontend'\n                },\n                query: {\n                    referenceId: uuid\n                }\n            },\n        });\n    if (!res.data) {\n        throw new Error('Failed to get last payments.')\n    }\n    return res.data;\n}","import {$apiClient} from \"../../lib/api\";\nimport {components} from \"../../lib/api.def\";\n\nexport const cancelSubscriptionById = async (id: number, data: components[\"schemas\"][\"CancelSubscriptionDto\"]) => {\n    const res = await $apiClient.POST('/dynamic-public/subscriptions-management/subscriptions/{id}/cancel', {\n        params: {\n            header: {\n                'project-key': 'Frontend'\n            },\n            path: {\n                id: id\n            }\n        },\n        body: data\n    });\n    if (!res.data) {\n        throw new Error('Failed to cancel subscription.')\n    }\n    return res.data;\n};","import {$apiClient} from \"../../lib/api\";\nimport {components} from \"../../lib/api.def\";\n\nexport const cancelSubscriptionsByOrderId = async (uuid: string, data: components[\"schemas\"][\"CancelSubscriptionDto\"]) => {\n    const res = await $apiClient.POST('/dynamic-public/subscriptions-management/subscriptions/order/{orderId}/cancel', {\n        params: {\n            header: {\n                'project-key': 'Frontend'\n            },\n            path: {\n                orderId: uuid\n            }\n        },\n        body: data\n    });\n    if (!res.data) {\n        throw new Error('Failed to cancel subscription.')\n    }\n    return res.data;\n};","import {$apiClient} from \"../../lib/api\";\nimport {components} from \"../../lib/api.def\";\n\nexport const subscriptionApplyDiscount = async (data: components[\"schemas\"][\"DiscountSubscriptionDto\"]) => {\n    const res = await $apiClient.POST('/dynamic-public/subscriptions-management/subscriptions/discount', {\n        params: {\n            header: {\n                'project-key': 'Frontend'\n            },\n        },\n        body: data\n    });\n    if (!res.data) {\n        throw new Error('Failed to apply discount.')\n    }\n    return res.data;\n};","import {$apiClient} from \"../../lib/api\";\nimport {components} from \"../../lib/api.def\";\n\nexport const subscriptionPause = async (data: components[\"schemas\"][\"PauseSubscriptionDto\"]) => {\n    const res = await $apiClient.POST('/dynamic-public/subscriptions-management/subscriptions/pause', {\n        params: {\n            header: {\n                'project-key': 'Frontend'\n            },\n        },\n        body: data\n    });\n    if (!res.data) {\n        throw new Error('Failed to pause subscription.')\n    }\n    return res.data;\n};","import {$apiClient} from \"../../lib/api\";\nimport {components} from \"../../lib/api.def\";\n\nexport const fillSubscriptionCancelRequest = async (data: components[\"schemas\"][\"CreateSubscriptionCancelRequestDto\"]) => {\n    const res = await $apiClient.POST('/dynamic-public/subscriptions-management/subscription-cancel-requests', {\n        params: {\n            header: {\n                'project-key': 'Frontend'\n            },\n        },\n        body: data\n    });\n    if (!res.data) {\n        throw new Error('Failed to fill request.')\n    }\n    return res.data;\n};","import {$apiClient} from \"../../../lib/api\";\nimport {components} from \"../../../lib/api.def\";\n\nexport const paypalStartRt = async (uuid: string, dto: components[\"schemas\"][\"PaypalBillingAgreementV1CreateFromSessionDto\"]) => {\n\n    const res = await $apiClient.POST(\n        '/dynamic-public/payments-paypal/v1/paypal/billing-agreements/from-session/{uuid}',\n        {\n            params: {\n                header: {\n                    'project-key': 'Frontend'\n                },\n                path: {\n                    uuid,\n                }\n            },\n            body: dto\n        });\n    if (!res.data) {\n        throw new Error('Failed to start rt session.')\n    }\n    return res.data;\n\n};","import {$apiClient} from \"../../../lib/api\";\n\nexport const paypalCaptureRt = async (tokenBa: string, uuid: string) => {\n\n    const res = await $apiClient.POST(\n        '/dynamic-public/payments-paypal/v1/paypal/billing-agreements/approve/{tokenBa}',\n        {\n            params: {\n                header: {\n                    'project-key': 'Frontend'\n                },\n                path: {\n                    tokenBa,\n                }\n            },\n        });\n    if (!res.data) {\n        throw new Error('Failed to capture paypal order.')\n    }\n\n    const paymentRes = await $apiClient.POST(\n        '/dynamic-public/payments-paypal/v1/paypal/payments-v1/from-session/{uuid}',\n        {\n            params: {\n                header: {\n                    'project-key': 'Frontend'\n                },\n                path: {\n                    uuid,\n                }\n            },\n            body: {\n                agreementId: res.data.id\n            },\n        });\n    if (!paymentRes || !paymentRes.data) {\n        throw new Error('Failed to capture paypal order.')\n    }\n    return paymentRes.data;\n};","import {$apiClient} from \"../../lib/api\";\nimport {components} from \"../../lib/api.def\";\n\nexport const splitCart = async (\n    uuid: string,\n    body: components['schemas']['SplitCartDto'],\n): Promise<components['schemas']['SplitCartResponseDto']> => {\n    const res = await $apiClient.POST(\n        '/dynamic-public/cart-v2/cart/{referenceId}/split',\n        {\n            params: {\n                header: {\n                    'project-key': \"Frontend\"\n                },\n                path: {\n                    referenceId: uuid\n                }\n            },\n            body\n        }\n    );\n    if (!res.data) {\n        throw new Error('Failed to append session.')\n    }\n    return res.data;\n}","import {$apiClient} from \"../../../lib/api\";\nimport {components} from \"../../../lib/api.def\";\n\nexport const primerUpsellCharge = async (dto: components[\"schemas\"][\"PrimerPaymentCreateReferencePaymentRequestDto\"]) => {\n    const res = await $apiClient.POST('/dynamic-public/payments-primer/v1/primer-payment/reference', {\n        params: {\n            header: {\n                'project-key': 'Frontend'\n            }\n        },\n        body: dto\n    })\n    if (!res || !res.data) {\n        throw new Error('Failed to create payment session.');\n    }\n    return res.data;\n}","import {$apiClient} from \"../../../lib/api\";\nimport {components} from \"../../../lib/api.def\";\n\nexport const paypalUpsellCharge = async (dto: components[\"schemas\"][\"PaypalUpsellChargeRequestDto\"]) => {\n    const res = await $apiClient.POST('/dynamic-public/payments-paypal/payments/upsell-charge', {\n        params: {\n            header: {\n                'project-key': 'Frontend'\n            }\n        },\n        body: dto\n    })\n    if (!res || !res.data) {\n        throw new Error('Failed to create payment session.');\n    }\n    return res.data;\n}","/**\n * Generates a random integer between min and max (inclusive).\n * @param {number} min The minimum boundary for the random number (inclusive).\n * @param {number} max The maximum boundary for the random number (inclusive).\n * @returns {number} A random integer between min and max.\n */\nexport function getRandomIntInclusive(min: number, max: number) {\n    // Ensure min and max are integers (optional, but good practice)\n    min = Math.ceil(min);\n    max = Math.floor(max);\n\n    // Math.random() generates a float between 0 (inclusive) and 1 (exclusive)\n    // (max - min + 1) calculates the size of the range (inclusive)\n    // The result is a number from 0 (inclusive) up to (max - min + 1) (exclusive)\n    // By adding min, the range is shifted to [min, max + 1)\n    // Math.floor() rounds down, making the result inclusive of 'max'\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n}","import {$apiClient} from \"../../../lib/api\";\nimport {components} from \"../../../lib/api.def\";\n\nexport const taxCalculateAmount = async (\n    data: components[\"schemas\"][\"TaxValueCountryStateRequestDto\"]\n) => {\n    const res = await $apiClient.POST('/dynamic-public/tax/tax/calculate', {\n        params: {\n            header: {\n                'project-key': 'Frontend'\n            }\n        },\n        body: data\n    });\n    if (!res.data) {\n        throw new Error('Failed to create payment session.')\n    }\n    return res.data;\n};","import {getSession} from \"../session/get\";\nimport {paymentFirstPayment} from \"./payment-first-payment\";\nimport {primerUpsellCharge} from \"./primer/primer-upsell-charge\";\nimport {paypalUpsellCharge} from \"./paypal/paypal-upsell-charge\";\nimport {getRandomIntInclusive} from \"../_utils/random-inclusive\";\nimport {taxCalculateAmount} from \"./tax/tax-calculate-amount\";\nimport {components} from \"../../lib/api.def\";\n\nexport const upsellCharge = async ({\n                                       uuid,\n                                       amount,\n                                       type,\n                                       description,\n                                       metadata,\n                                       orderId: passedOrderId\n                                   }: {\n    uuid: string,\n    amount: number,\n    type: 'capture' | 'authorize',\n    metadata?: { [key: string]: any },\n    description?: string,\n    orderId?: string\n}) => {\n    const metaData = metadata || {};\n    const skipTax = !!metaData.skipTax;\n\n    const firstPayment = await paymentFirstPayment(uuid);\n\n    const session = await getSession(uuid);\n\n    let taxCalculation: components[\"schemas\"][\"TaxValueCountryStateResponseDto\"] = {\n        taxAmount: 0,\n        amountWithTax: amount,\n        taxPercent: 0,\n    };\n    if (!skipTax) {\n        taxCalculation = await taxCalculateAmount({\n            amount,\n            countryCode: session.countryCode,\n            state: session.state,\n        });\n    }\n\n    const orderId = passedOrderId ? passedOrderId : `${uuid}-up-${getRandomIntInclusive(1000, 9999)}`;\n\n    if (firstPayment.source === 'primer') {\n        return await primerUpsellCharge({\n            customerId: uuid,\n            currencyCode: session.extraData.currency as string,\n            amount: taxCalculation.amountWithTax,\n            manualCapture: type === 'authorize',\n            metadata: {\n                ...metadata,\n                tx: taxCalculation.taxAmount,\n                txp: taxCalculation.taxPercent,\n            },\n            orderId,\n        })\n    } else if (firstPayment.source.includes('paypal')) {\n        return await paypalUpsellCharge({\n            chargeId: firstPayment.chargeId,\n            currency: session.extraData.currency as string,\n            description: description ? description : 'Charge',\n            intent: type === 'authorize' ? 'AUTHORIZE' : 'CAPTURE',\n            orderId,\n            metaData: {\n                ...metadata,\n                tx: taxCalculation.taxAmount,\n                txp: taxCalculation.taxPercent,\n            },\n            total: taxCalculation.amountWithTax,\n        });\n    }\n    throw new Error('Unknown payment source');\n}","import {getCart} from \"../cart/get-cart\";\nimport {upsellCharge} from \"./upsell-charge\";\n\nexport const upsellChargeFromCart = async ({\n                                               cartUUID,\n                                               type,\n                                               description,\n                                               metadata,\n                                           }: {\n    cartUUID: string,\n    type: 'capture' | 'authorize',\n    metadata?: { [key: string]: any },\n    description?: string,\n}) => {\n    const uuid = cartUUID.substring(0, 36);\n\n    const cart = await getCart(cartUUID);\n    const amount = cart.data.map(p => p.quantity * p.product.price).reduce((a, b) => a + b, 0);\n\n    return upsellCharge({uuid, amount, type, description, metadata, orderId: cartUUID});\n}","import {$apiClient} from \"../../lib/api\";\nimport {components} from \"../../lib/api.def\";\n\nexport const getSubscriptionsByOrderId = async (uuid: string) => {\n    const res = await $apiClient.GET(\n        '/dynamic-public/subscriptions-management/subscriptions/info-by-orderid',\n        {\n            params: {\n                header: {\n                    'project-key': 'Frontend'\n                },\n                query: {\n                    orderId: uuid,\n                },\n            }\n        }\n    );\n    if (!res.data) {\n        throw new Error('Failed to get subscriptions by order id.')\n    }\n    return res.data;\n};","import {$apiClient} from \"../../../lib/api\";\nimport {components} from \"../../../lib/api.def\";\n\nexport const getTaxPercent = async (\n    data: components[\"schemas\"][\"TaxPercentCountryStateRequestDto\"]\n) => {\n    const res = await $apiClient.POST('/dynamic-public/tax/tax/get', {\n        params: {\n            header: {\n                'project-key': 'Frontend'\n            }\n        },\n        body: data\n    });\n    if (!res.data) {\n        throw new Error('Failed to get tax percent.')\n    }\n    return res.data;\n};"],"mappings":"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","names":["createFetchClient","createSession","createSession"]}